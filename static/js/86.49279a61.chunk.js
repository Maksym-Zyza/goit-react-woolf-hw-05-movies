"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[86],{4374:function(e,t,n){var i=n(9439),a=n(2791),s=n(7689),r=n(1087),c=n(9961),o=n(1272),l=n(184);t.Z=function(e){var t=e.trending,n=e.time,h=(0,a.useState)("https://image.tmdb.org/t/p/w500"),d=(0,i.Z)(h,1)[0],g=(0,s.TH)(),u="day"===n?c.f.TitleMovies:c.f.WeekMovies;return"inTheatres"===n&&(u=c.f.TitleTheatres),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"pageTitle",children:u}),(0,l.jsx)("ul",{className:"moviesList",children:t.map((function(e){var t=e.id,n=e.poster_path,i=e.title,a=e.vote_average;return(0,l.jsx)(r.rU,{to:"/movies/".concat(t),state:g,children:(0,l.jsxs)("li",{children:[n?(0,l.jsx)("img",{src:"".concat(d).concat(n),alt:"Movie poster"}):(0,l.jsx)("img",{src:o,alt:"Was not found"}),(0,l.jsxs)("h4",{children:[" ",i]}),(0,l.jsx)("div",{children:(0,l.jsx)("span",{children:a.toFixed(1)})})]})},t)}))})]})}},3983:function(e,t,n){n.r(t);var i=n(3433),a=n(5671),s=n(3144),r=n(136),c=n(4104),o=n(2791),l=n(3511),h=n(4374),d=n(5628),g=n(332),u=n(9938),f=n(6083),p=n(184),m=function(e){(0,r.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={trending:[],isLoading:!1,type:"movie",time:"day",page:1},e.fetchTrending=function(){var t=e.state,n=t.type,a=t.time,s=t.page;e.setState({isLoading:!0}),f.Z.getMoviesTrending(n,a,s).then((function(t){e.setState((function(e){return{trending:[].concat((0,i.Z)(e.trending),(0,i.Z)(t)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.fetchTrending()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,i=n.time,a=n.type;t.time!==i&&i&&(this.setState({trending:[]}),this.fetchTrending()),t.type!==a&&a&&(this.setState({trending:[]}),this.fetchTrending())}},{key:"changeSelect",value:function(e){this.setState({time:e.target.dataset.value,page:1}),console.log("time>>",this.state.time)}},{key:"render",value:function(){var e=this.state,t=e.trending,n=e.isLoading,i=e.time,a=t.length>0&&!n;return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(h.Z,{trending:t,time:i}),(0,p.jsx)(d.Z,{changeSelect:this.changeSelect.bind(this)}),a&&(0,p.jsx)(l.Z,{scrollStepInPx:"50",delayInMs:"16"}),a&&(0,p.jsx)(g.Z,{onClick:this.fetchTrending}),n&&(0,p.jsx)(u.Z,{isLoading:n})]})}}]),n}(o.Component);t.default=m}}]);
//# sourceMappingURL=86.49279a61.chunk.js.map