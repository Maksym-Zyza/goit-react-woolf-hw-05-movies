{"version":3,"file":"static/js/86.f1ad62f0.chunk.js","mappings":"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","sources":["components/TrendingList/MoviesList.jsx","pages/HomePage.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { text } from '../../helpers/text';\nimport defaultImg from '../../img/default.jpg';\n\nconst MoviesList = ({ trending, time }) => {\n  const [src] = useState('https://image.tmdb.org/t/p/w500');\n  const location = useLocation();\n  let title = time === 'day' ? text.TitleMovies : text.WeekMovies;\n  if (time === 'inTheatres') {\n    title = text.TitleTheatres;\n  }\n\n  return (\n    <div>\n      <h2 className=\"pageTitle\">{title}</h2>\n\n      <ul className=\"moviesList\">\n        {trending.map(({ id, poster_path, title, vote_average }) => (\n          <Link\n            key={id}\n            to={{\n              pathname: `/movies/${id}`,\n              state: { from: location.pathname },\n            }}\n          >\n            <li>\n              {poster_path ? (\n                <img src={`${src}${poster_path}`} alt=\"Movie poster\" />\n              ) : (\n                <img src={defaultImg} alt=\"Was not found\" />\n              )}\n              <h4> {title}</h4>\n              <div>\n                <span>{vote_average.toFixed(1)}</span>\n              </div>\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesList;\n","import React from 'react';\nimport ScrollButton from '../components/ScrollButton/ScrollButton';\nimport MoviesList from '../components/TrendingList/MoviesList';\nimport ToolsMenu from '../components/ToolsMenu/ToolsMenu';\nimport Button from '../components/Button/Button';\nimport Loader from '../components/Loader/Loader';\nimport api from '../api/movies-api';\n\nclass HomePage extends React.Component {\n  state = {\n    trending: [],\n    isLoading: false,\n    type: 'movie',\n    time: 'day',\n    page: 1,\n  };\n\n  componentDidMount() {\n    this.fetchTrending();\n  }\n\n  componentDidUpdate(_, prevState) {\n    const { time, type } = this.state;\n\n    if (prevState.time !== time && time) {\n      this.setState({ trending: [] });\n      this.fetchTrending();\n    }\n    if (prevState.type !== type && type) {\n      this.setState({ trending: [] });\n      this.fetchTrending();\n    }\n  }\n\n  fetchTrending = () => {\n    const { type, time, page } = this.state;\n    this.setState({ isLoading: true });\n\n    api\n      .getMoviesTrending(type, time, page)\n      .then(results => {\n        this.setState(prevState => ({\n          trending: [...prevState.trending, ...results],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => {\n        console.log(error);\n        return [];\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  changeSelect(e) {\n    this.setState({ time: e.target.dataset.value, page: 1 });\n    console.log('time>>', this.state.time);\n  }\n\n  render() {\n    const { trending, isLoading, time } = this.state;\n    const movieList = trending.length > 0 && !isLoading;\n\n    return (\n      <div className=\"container\">\n        <MoviesList trending={trending} time={time} />\n\n        <ToolsMenu changeSelect={this.changeSelect.bind(this)} />\n\n        {movieList && <ScrollButton scrollStepInPx=\"50\" delayInMs=\"16\" />}\n\n        {movieList && <Button onClick={this.fetchTrending} />}\n\n        {isLoading && <Loader isLoading={isLoading} />}\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n"],"names":["_ref","trending","time","_useState","useState","src","_slicedToArray","location","useLocation","title","text","_jsxs","children","_jsx","className","map","_ref2","id","poster_path","vote_average","Link","to","pathname","concat","state","from","alt","defaultImg","toFixed","HomePage","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","isLoading","type","page","fetchTrending","_this$state","setState","api","then","results","prevState","_toConsumableArray","catch","error","console","log","finally","_createClass","key","value","this","_","_this$state2","e","target","dataset","_this$state3","movieList","MoviesList","ToolsMenu","changeSelect","bind","ScrollButton","scrollStepInPx","delayInMs","Button","onClick","Loader","React"],"sourceRoot":""}