"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[460],{7345:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var i=n(3433),a=n(5671),s=n(3144),r=n(136),c=n(4104),o=n(2791),d=n(3511),h=n(9439),l=n(7689),g=n(1087),u=n(9961),p=n(1272),f=n(184),m=function(t){var e=t.trending,n=t.time,i=(0,o.useState)("https://image.tmdb.org/t/p/w500"),a=(0,h.Z)(i,1)[0],s=(0,l.TH)(),r="day"===n?u.f.TitleTrending:u.f.WeekTrending;return(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"pageTitle",children:r}),(0,f.jsx)("ul",{className:"moviesList",children:e.map((function(t){var e=t.id,n=t.name,i=t.poster_path,r=t.vote_average;return(0,f.jsx)(g.rU,{to:"/tvShows/".concat(e),state:s,children:(0,f.jsxs)("li",{children:[i?(0,f.jsx)("img",{src:"".concat(a).concat(i),alt:"TvShows poster"}):(0,f.jsx)("img",{src:p,alt:"Was not found"}),(0,f.jsxs)("h4",{children:[" ",n]}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:r})})]})},e)}))})]})},v=n(5628),x=n(332),j=n(9938),y=n(6083),S=function(t){(0,r.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;(0,a.Z)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={trending:[],isLoading:!1,type:"tv",time:"day",page:1},t.fetchTrending=function(){var e=t.state,n=e.type,a=e.time,s=e.page;t.setState({isLoading:!0}),y.Z.getMoviesTrending(n,a,s).then((function(e){t.setState((function(t){return{trending:[].concat((0,i.Z)(t.trending),(0,i.Z)(e)),page:t.page+1}}))})).catch((function(t){return console.log(t),[]})).finally((function(){return t.setState({isLoading:!1})}))},t}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.fetchTrending()}},{key:"componentDidUpdate",value:function(t,e){var n=this.state,i=n.time,a=n.type;e.time!==i&&i&&(this.setState({trending:[]}),this.fetchTrending()),e.type!==a&&a&&(this.setState({trending:[]}),this.fetchTrending())}},{key:"changeSelect",value:function(t){this.setState({time:t.target.dataset.value,page:1})}},{key:"render",value:function(){var t=this.state,e=t.trending,n=t.isLoading,i=t.time,a=e.length>0&&!n;return(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)(m,{trending:e,time:i}),(0,f.jsx)(v.Z,{changeSelect:this.changeSelect.bind(this)}),a&&(0,f.jsx)(d.Z,{scrollStepInPx:"50",delayInMs:"16"}),a&&(0,f.jsx)(x.Z,{onClick:this.fetchTrending}),n&&(0,f.jsx)(j.Z,{isLoading:n})]})}}]),n}(o.Component),k=S}}]);
//# sourceMappingURL=460.ad69a4d7.chunk.js.map