{"version":3,"file":"static/js/163.f6fce0dc.chunk.js","mappings":"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","sources":["components/TrendingList/TrendingPersonsList.jsx","pages/PersonsPage.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { text } from '../../helpers/text';\nimport defaultImg from '../../img/default.jpg';\n\nconst TrendingPersonsList = ({ trending, time }) => {\n  const [src] = useState('https://image.tmdb.org/t/p/w500');\n  const location = useLocation();\n  const title = time === 'day' ? text.TitlePersons : text.WeekPersons;\n\n  return (\n    <div>\n      <h2 className=\"pageTitle\">{title}</h2>\n\n      <ul className=\"moviesList\">\n        {trending.map(({ id, name, profile_path, popularity }) => (\n          <Link\n            key={id}\n            to={{\n              pathname: `/persons/${id}`,\n              state: { from: location.pathname },\n            }}\n          >\n            <li>\n              {profile_path ? (\n                <img src={`${src}${profile_path}`} alt=\"Movie poster\" />\n              ) : (\n                <img src={defaultImg} alt=\"Was not found\" />\n              )}\n              <h4> {name}</h4>\n              <div>{popularity && <span>{Math.round(popularity)}</span>}</div>\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TrendingPersonsList;\n","import React from 'react';\nimport ScrollButton from '../components/ScrollButton/ScrollButton';\nimport TrendingPersonsList from '../components/TrendingList/TrendingPersonsList';\nimport ToolsMenu from '../components/ToolsMenu/ToolsMenu';\nimport Button from '../components/Button/Button';\nimport Loader from '../components/Loader/Loader';\nimport api from '../api/movies-api';\n\nclass PersonsPage extends React.Component {\n  state = {\n    person: [],\n    isLoading: false,\n    type: 'person',\n    time: 'day',\n    page: 1,\n  };\n\n  componentDidMount() {\n    this.fetchPersons();\n  }\n\n  componentDidUpdate(_, prevState) {\n    const { time, type, person } = this.state;\n    console.log(person);\n\n    if (prevState.time !== time && time) {\n      this.setState({ person: [] });\n      this.fetchPersons();\n    }\n    if (prevState.type !== type && type) {\n      this.setState({ person: [] });\n      this.fetchPersons();\n    }\n  }\n\n  fetchPersons = () => {\n    const { type, time, page } = this.state;\n    this.setState({ isLoading: true });\n\n    api\n      .getMoviesTrending(type, time, page)\n      .then(results => {\n        this.setState(prevState => ({\n          person: [...prevState.person, ...results],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => {\n        console.log(error);\n        return [];\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  changeSelect(e) {\n    this.setState({ time: e.target.dataset.value, page: 1 });\n  }\n\n  render() {\n    const { person, isLoading, time } = this.state;\n    const movieList = person.length > 0 && !isLoading;\n\n    return (\n      <div className=\"container\">\n        <TrendingPersonsList trending={person} time={time} />\n\n        <ToolsMenu changeSelect={this.changeSelect.bind(this)} />\n\n        {movieList && <ScrollButton scrollStepInPx=\"50\" delayInMs=\"16\" />}\n\n        {movieList && <Button onClick={this.fetchPersons} />}\n\n        {isLoading && <Loader isLoading={isLoading} />}\n      </div>\n    );\n  }\n}\n\nexport default PersonsPage;\n"],"names":["_ref","trending","time","_useState","useState","src","_slicedToArray","location","useLocation","title","text","_jsxs","children","_jsx","className","map","_ref2","id","name","profile_path","popularity","Link","to","pathname","concat","state","from","alt","defaultImg","Math","round","PersonsPage","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","person","isLoading","type","page","fetchPersons","_this$state","setState","api","then","results","prevState","_toConsumableArray","catch","error","console","log","finally","_createClass","key","value","this","_","_this$state2","e","target","dataset","_this$state3","movieList","TrendingPersonsList","ToolsMenu","changeSelect","bind","ScrollButton","scrollStepInPx","delayInMs","Button","onClick","Loader","React"],"sourceRoot":""}