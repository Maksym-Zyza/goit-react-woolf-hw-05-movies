"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[407],{6083:function(e,t,r){var n,a=r(5861),s=r(7757),c=r.n(s),u=r(5294),i=r(2007),o=r.n(i);u.Z.defaults.baseURL="https://api.themoviedb.org/3/",u.Z.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:null===(n=window.localStorage)||void 0===n?void 0:n.getItem("language"),page:1};var l=function(){var e=(0,a.Z)(c().mark((function e(t,r,n){var a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"trending/".concat(t,"/").concat(r),params:{page:n}},e.next=4,(0,u.Z)(a);case 4:return s=e.sent,i=s.data,e.abrupt("return",i.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}();function p(e,t){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(c().mark((function e(t,r){var n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"search/movie",params:{query:t,page:r}},e.next=4,(0,u.Z)(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,(0,u.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/videos")},e.next=4,(0,u.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},n=(0,u.Z)(r,t),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=(0,a.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},n=(0,u.Z)(r,t),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/popular",params:{page:t}},e.next=4,(0,u.Z)(r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(c().mark((function e(){var t,r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"person/popular"},e.next=4,(0,u.Z)(t);case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(){return(y=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/".concat(t,"/images")},e.next=4,(0,u.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(){return(w=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/".concat(t)},e.next=4,(0,u.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function b(){return(b=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"tv/".concat(t)},e.next=4,(0,u.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}p.propTypes={query:o().string.isRequired,page:o().number.isRequired};var j=function(){var e=(0,a.Z)(c().mark((function e(t,r,n){var a,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"discover/movie?primary_release_date.gte=".concat(t,"&primary_release_date.lte=").concat(r),params:{page:n}},e.next=4,(0,u.Z)(a);case 4:return s=e.sent,i=s.data,e.abrupt("return",i.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,a.Z)(c().mark((function e(t){var r,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"discover/movie?sort_by=popularity.desc",params:{page:t}},e.next=4,(0,u.Z)(r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Z={getMoviesTrending:l,getSearchMovies:p,getMovieDetails:function(e){return f.apply(this,arguments)},getMovieVideo:function(e){return v.apply(this,arguments)},getPersons:function(e){return g.apply(this,arguments)},getPersonPopular:function(){return x.apply(this,arguments)},getPersonImages:function(e){return y.apply(this,arguments)},getPersonDetails:function(e){return w.apply(this,arguments)},getTvDetails:function(e){return b.apply(this,arguments)},getMovieCredits:function(e){return h.apply(this,arguments)},getMoviesReviews:function(e){return m.apply(this,arguments)},getInTheatres:j,getMostPopular:_};t.Z=Z},6373:function(e,t,r){r.d(t,{Z:function(){return h}});var n,a=r(2791),s=r(4164),c=["title","titleId"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o(e,t){var r=e.title,s=e.titleId,o=i(e,c);return a.createElement("svg",u({stroke:"currentColor",fill:"none",strokeWidth:0,viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},o),r?a.createElement("title",{id:s},r):null,n||(n=a.createElement("path",{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"})))}var l=a.forwardRef(o),p=(r.p,r(9961)),d={backdrop:"Modal_backdrop__sVPQZ",content:"Modal_content__yBmFf",closeBtn:"Modal_closeBtn__-YU4n",rotateCloseBtn:"Modal_rotateCloseBtn__jlaJ1",cancelBtn:"Modal_cancelBtn__DjFwS"},f=r(184),v=document.querySelector("#modal-root");function h(e){var t=e.onClose,r=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var n=function(){t()};return(0,s.createPortal)((0,f.jsx)("div",{className:d.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,f.jsx)("div",{className:d.modal,children:(0,f.jsxs)("div",{className:d.content,children:[(0,f.jsx)(l,{className:d.closeBtn,onClick:n}),r,(0,f.jsx)("div",{children:(0,f.jsx)("button",{className:d.cancelBtn,onClick:n,children:p.f.Cancel})})]})})}),v)}},1407:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n,a=r(7689),s=r(8683),c=r(9439),u=r(2791),i=r(8048),o=r(6083),l=r(9961),p=r(1272),d=r(9938),f=["title","titleId"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m(e,t){var r=e.title,a=e.titleId,s=h(e,f);return u.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:200,height:200,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},s),r?u.createElement("title",{id:a},r):null,n||(n=u.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 13.5v-7c0-.41.47-.65.8-.4l4.67 3.5c.27.2.27.6 0 .8l-4.67 3.5c-.33.25-.8.01-.8-.4z"})))}var g=u.forwardRef(m),x=(r.p,r(6373)),y=r(6710),w=r.n(y),b=r(184);function j(e){var t=e.videoKey;return(0,b.jsx)("div",{className:i.Z.movieVideo,children:(0,b.jsx)(w(),{controls:!0,playing:!0,url:"https://www.youtube.com/watch?v=".concat(t)})})}function _(){var e=(0,a.s0)(),t=(0,a.UO)().movieId,r=(0,u.useState)("https://image.tmdb.org/t/p/w500"),n=(0,c.Z)(r,1)[0],f=(0,u.useState)(null),v=(0,c.Z)(f,2),h=v[0],m=v[1],y=(0,u.useState)(""),w=(0,c.Z)(y,2),_=w[0],Z=w[1],k=(0,u.useState)(!1),C=(0,c.Z)(k,2),O=C[0],S=C[1],D=(0,u.useState)(!1),M=(0,c.Z)(D,2),N=M[0],P=M[1],E=function(){document.body.style.overflow=N?"auto":"hidden",P(!N)};return(0,u.useEffect)((function(){S(!0),o.Z.getMovieDetails(t).then((function(e){m((0,s.Z)({},e))})).catch((function(e){return console.log(e),[]})).finally((function(){return S(!1)}))}),[t]),(0,u.useEffect)((function(){h&&o.Z.getMovieVideo(h.id).then((function(e){Z(e.results[0])})).catch((function(e){return console.log(e),[]})).finally((function(){return S(!1)}))}),[h]),(0,b.jsxs)(b.Fragment,{children:[h?(0,b.jsxs)("div",{className:i.Z.details,children:[(0,b.jsx)("h2",{children:h.title}),(0,b.jsxs)("div",{onClick:E,className:i.Z.imgHover,children:[null!==h&&void 0!==h&&h.poster_path?(0,b.jsx)("img",{src:"".concat(n).concat(null===h||void 0===h?void 0:h.poster_path),alt:"Movies poster"}):(0,b.jsx)("img",{src:p,alt:"Was not found"}),(0,b.jsx)("div",{className:i.Z.btnPlay,children:(0,b.jsx)(g,{})}),N&&(0,b.jsx)(x.Z,{onClose:E,children:_?(0,b.jsx)(j,{videoKey:_.key}):(0,b.jsx)("div",{className:i.Z.noVideo,children:l.f.noVideo})})]}),(0,b.jsxs)("div",{className:i.Z.movieDetails,children:[(0,b.jsxs)("p",{children:[l.f.Release,": ",(0,b.jsx)("span",{children:h.release_date})]}),(0,b.jsxs)("h3",{children:[l.f.Overview,": "]}),(0,b.jsx)("span",{children:h.overview}),(0,b.jsxs)("p",{children:[l.f.Popularity,":",(0,b.jsx)("span",{children:String(Math.round(h.popularity))})]}),(0,b.jsxs)("p",{children:[l.f.Rating,": ",(0,b.jsx)("span",{children:h.vote_average})]}),(0,b.jsxs)("p",{children:[l.f.Count,": ",(0,b.jsx)("span",{children:h.vote_count})]}),(0,b.jsxs)("h3",{children:[l.f.Genres,":"]}),h.genres?h.genres.map((function(e){var t=e.id,r=e.name;return(0,b.jsx)("p",{children:r},t)})):"We don't have any genres for this movie."]})]}):(0,b.jsx)(d.Z,{isLoading:O}),(0,b.jsxs)("button",{className:i.Z.link,onClick:function(){e("cast")},children:[l.f.Cast," ",(0,b.jsx)("span",{className:i.Z.linkSign,children:"\u25bc"})]}),(0,b.jsxs)("button",{className:i.Z.link,onClick:function(){e("reviews")},children:[l.f.Reviews," ",(0,b.jsx)("span",{className:i.Z.linkSign,children:"\u25bc"})]}),(0,b.jsx)(a.j3,{})]})}function Z(){var e=(0,a.TH)(),t=(0,a.s0)();return(0,b.jsxs)("div",{className:"container position",children:[(0,b.jsxs)("button",{className:"movieBtn",type:"button",onClick:function(){var r;return t(null!==(r=e.state)&&void 0!==r?r:"/movies")},children:["\u25c4 ",l.f.Back]}),(0,b.jsx)(_,{})]})}},8048:function(e,t){t.Z={details:"Details_details__DjA0o",imgHover:"Details_imgHover__-1FU4",movieDetails:"Details_movieDetails__SdpLD",link:"Details_link__iNLJA",linkSign:"Details_linkSign__+8YEp",btnPlay:"Details_btnPlay__eetqI",movieVideo:"Details_movieVideo__BfCdX",noVideo:"Details_noVideo__ahp-1"}},1272:function(e,t,r){e.exports=r.p+"static/media/default.2e01288c0c1a3f24d743.jpg"}}]);
//# sourceMappingURL=407.8511bbc8.chunk.js.map