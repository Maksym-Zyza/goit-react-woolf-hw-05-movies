"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[460],{7345:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(3433),a=n(5671),s=n(3144),r=n(136),c=n(4104),o=n(2791),d=n(3511),h=n(7689),l=n(1087),g=n(9961),u=n(1272),f=n(3649),p=n(184),v=function(e){var t=e.trending,n=e.time,i=(0,h.TH)(),a="day"===n?g.f.TitleTrending:g.f.WeekTrending;return(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:"pageTitle",children:a}),(0,p.jsx)("ul",{className:"moviesList",children:t.map((function(e){var t=e.id,n=e.name,a=e.poster_path,s=e.vote_average;return(0,p.jsx)(l.rU,{to:"/tvShows/".concat(t),state:i,children:(0,p.jsxs)("li",{children:[(0,p.jsx)("img",{src:a?"".concat(f.v).concat(a):u,alt:"TvShows poster"}),(0,p.jsxs)("h4",{children:[" ",n]}),(0,p.jsx)("div",{children:(0,p.jsx)("span",{children:s})})]})},t)}))})]})},m=n(5628),x=n(332),j=n(9938),y=n(6083),k=function(e){(0,r.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={trending:[],isLoading:!1,type:"tv",time:"day",page:1},e.fetchTrending=function(){var t=e.state,n=t.type,a=t.time,s=t.page;e.setState({isLoading:!0}),y.Z.getMoviesTrending(n,a,s).then((function(t){e.setState((function(e){return{trending:[].concat((0,i.Z)(e.trending),(0,i.Z)(t)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.fetchTrending()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,i=n.time,a=n.type;t.time!==i&&i&&(this.setState({trending:[]}),this.fetchTrending()),t.type!==a&&a&&(this.setState({trending:[]}),this.fetchTrending())}},{key:"changeSelect",value:function(e){this.setState({time:e.target.dataset.value,page:1})}},{key:"render",value:function(){var e=this.state,t=e.trending,n=e.isLoading,i=e.time,a=t.length>0&&!n;return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)(v,{trending:t,time:i}),(0,p.jsx)(m.Z,{changeSelect:this.changeSelect.bind(this)}),a&&(0,p.jsx)(d.Z,{scrollStepInPx:"50",delayInMs:"16"}),a&&(0,p.jsx)(x.Z,{onClick:this.fetchTrending}),n&&(0,p.jsx)(j.Z,{isLoading:n})]})}}]),n}(o.Component),S=k}}]);
//# sourceMappingURL=460.512d68c4.chunk.js.map