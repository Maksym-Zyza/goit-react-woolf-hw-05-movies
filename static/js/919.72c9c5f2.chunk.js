"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[919],{6083:function(e,t,r){var n,a=r(5861),s=r(7757),i=r.n(s),c=r(5294),o=r(2007),u=r.n(o);c.Z.defaults.baseURL="https://api.themoviedb.org/3/",c.Z.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:null===(n=window.localStorage)||void 0===n?void 0:n.getItem("language"),page:1};var l=function(){var e=(0,a.Z)(i().mark((function e(t,r,n){var a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"trending/".concat(t,"/").concat(r),params:{page:n}},e.next=4,(0,c.Z)(a);case 4:return s=e.sent,o=s.data,e.abrupt("return",o.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}();function p(e,t){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(i().mark((function e(t,r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"search/movie",params:{query:t,page:r}},e.next=4,(0,c.Z)(n);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,(0,c.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/videos")},e.next=4,(0,c.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},n=(0,c.Z)(r,t),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},n=(0,c.Z)(r,t),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/popular",params:{page:t}},e.next=4,(0,c.Z)(r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(i().mark((function e(){var t,r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"person/popular"},e.next=4,(0,c.Z)(t);case 4:return r=e.sent,n=r.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(){return(w=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/".concat(t,"/images")},e.next=4,(0,c.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function y(){return(y=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"person/".concat(t)},e.next=4,(0,c.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j(){return(j=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"tv/".concat(t)},e.next=4,(0,c.Z)(r,t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}p.propTypes={query:u().string.isRequired,page:u().number.isRequired};var b=function(){var e=(0,a.Z)(i().mark((function e(t,r,n){var a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"discover/movie?primary_release_date.gte=".concat(t,"&primary_release_date.lte=").concat(r),params:{page:n}},e.next=4,(0,c.Z)(a);case 4:return s=e.sent,o=s.data,e.abrupt("return",o.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"discover/movie?sort_by=popularity.desc",params:{page:t}},e.next=4,(0,c.Z)(r);case 4:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),_={getMoviesTrending:l,getSerchMovies:p,getMovieDetails:function(e){return d.apply(this,arguments)},getMovieVideo:function(e){return v.apply(this,arguments)},getPersons:function(e){return g.apply(this,arguments)},getPersonPopular:function(){return x.apply(this,arguments)},getPersonImages:function(e){return w.apply(this,arguments)},getPersonDetails:function(e){return y.apply(this,arguments)},getTvDetails:function(e){return j.apply(this,arguments)},getMovieCredits:function(e){return h.apply(this,arguments)},getMoviesReviews:function(e){return m.apply(this,arguments)},getInTheatres:b,getMostPopular:Z};t.Z=_},6373:function(e,t,r){r.d(t,{Z:function(){return h}});var n,a=r(2791),s=r(4164),i=["title","titleId"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u(e,t){var r=e.title,s=e.titleId,u=o(e,i);return a.createElement("svg",c({stroke:"currentColor",fill:"none",strokeWidth:0,viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},u),r?a.createElement("title",{id:s},r):null,n||(n=a.createElement("path",{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"})))}var l=a.forwardRef(u),p=(r.p,r(9961)),f={backdrop:"Modal_backdrop__sVPQZ",content:"Modal_content__yBmFf",closeBtn:"Modal_closeBtn__-YU4n",rotateCloseBtn:"Modal_rotateCloseBtn__jlaJ1",cancelBtn:"Modal_cancelBtn__DjFwS"},d=r(184),v=document.querySelector("#modal-root");function h(e){var t=e.onClose,r=e.children;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var n=function(){t()};return(0,s.createPortal)((0,d.jsx)("div",{className:f.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,d.jsx)("div",{className:f.modal,children:(0,d.jsxs)("div",{className:f.content,children:[(0,d.jsx)(l,{className:f.closeBtn,onClick:n}),r,(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:f.cancelBtn,onClick:n,children:p.f.Cancel})})]})})}),v)}},3511:function(e,t,r){r.d(t,{Z:function(){return g}});var n,a=r(5671),s=r(3144),i=r(136),c=r(4104),o=r(2791),u="ScrollButton_scroll__HXg6x",l="ScrollButton_arrowUp__A8N2O",p=["title","titleId"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v(e,t){var r=e.title,a=e.titleId,s=d(e,p);return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},s),r?o.createElement("title",{id:a},r):null,n||(n=o.createElement("path",{fill:"#fff",d:"M3 12v-2l5-5 5 5v2l-5-5z"})))}var h=o.forwardRef(v),m=(r.p,r(184)),g=function(e){(0,i.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,a.Z)(this,r),(e=t.call(this)).state={intervalId:0},e}return(0,s.Z)(r,[{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-this.props.scrollStepInPx)}},{key:"scrollToTop",value:function(){var e=setInterval(this.scrollStep.bind(this),this.props.delayInMs);this.setState({intervalId:e})}},{key:"render",value:function(){var e=this;return(0,m.jsx)("button",{title:"Back to top",className:u,onClick:function(){e.scrollToTop()},children:(0,m.jsx)(h,{className:l})})}}]),r}(o.Component)},2919:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n,a=r(7689),s=r(8683),i=r(9439),c=r(2791),o=r(8048),u=r(6083),l=r(9961),p=r(1272),f=r(9938),d=r(3433),v=r(1087),h=r(3511),m=r(184),g=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),r=t[0],n=t[1],s=(0,c.useState)("https://image.tmdb.org/t/p/w500"),o=(0,i.Z)(s,1)[0],l=(0,c.useState)(!1),g=(0,i.Z)(l,2),x=g[0],w=g[1],y=(0,a.TH)();return(0,c.useEffect)((function(){var e=window.location.pathname.split("/")[2];w(!0),u.Z.getMovieCredits(e).then((function(e){n((0,d.Z)(e.data.cast))})).catch((function(e){return console.log(e),[]})).finally((function(){return w(!1)}))}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("ul",{className:"castLisl",children:r.map((function(e){var t=e.id,r=e.profile_path,n=e.name,a=e.character;return(0,m.jsx)(v.rU,{to:{pathname:"/persons/".concat(t),state:{from:y.pathname}},children:(0,m.jsxs)("li",{children:[r?(0,m.jsx)("img",{src:"".concat(o).concat(r),alt:"Movie poster"}):(0,m.jsx)("img",{src:p,alt:"Was not found"}),(0,m.jsx)("h3",{children:n}),(0,m.jsx)("p",{children:a})]},t)},t)}))})}),x&&(0,m.jsx)(f.Z,{isLoading:x}),r&&(0,m.jsx)(h.Z,{scrollStepInPx:"50",delayInMs:"16"})]})},x=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),r=t[0],n=t[1],a=(0,c.useState)(!1),s=(0,i.Z)(a,2),o=s[0],p=s[1];return(0,c.useEffect)((function(){var e=window.location.pathname.split("/")[2];p(!0),u.Z.getMoviesReviews(e).then((function(e){n((0,d.Z)(e.data.results))})).catch((function(e){return console.log(e),[]})).finally((function(){return p(!1)}))}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{children:(0,m.jsx)("ul",{children:r.length>0?r.map((function(e){var t=e.id,r=e.author,n=e.content;return(0,m.jsxs)("li",{children:[(0,m.jsx)("h3",{className:"data",children:r}),(0,m.jsx)("p",{className:"text",children:n})]},t)})):l.f.NoReviews})}),o&&(0,m.jsx)(f.Z,{isLoading:o})]})},w=["title","titleId"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b(e,t){var r=e.title,a=e.titleId,s=j(e,w);return c.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:200,height:200,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},s),r?c.createElement("title",{id:a},r):null,n||(n=c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 13.5v-7c0-.41.47-.65.8-.4l4.67 3.5c.27.2.27.6 0 .8l-4.67 3.5c-.33.25-.8.01-.8-.4z"})))}var Z=c.forwardRef(b),_=(r.p,r(6373)),k=r(6710),O=r.n(k);function S(e){var t=e.videoKey;return(0,m.jsx)("div",{className:o.Z.movieVideo,children:(0,m.jsx)(O(),{controls:!0,playing:!0,url:"https://www.youtube.com/watch?v=".concat(t)})})}function C(){var e=(0,c.useState)("https://image.tmdb.org/t/p/w500"),t=(0,i.Z)(e,1)[0],r=(0,c.useState)(null),n=(0,i.Z)(r,2),a=n[0],d=n[1],v=(0,c.useState)(""),h=(0,i.Z)(v,2),w=h[0],y=h[1],j=(0,c.useState)(!1),b=(0,i.Z)(j,2),k=b[0],O=b[1],C=(0,c.useState)(!1),N=(0,i.Z)(C,2),M=N[0],P=N[1],I=(0,c.useState)(!1),E=(0,i.Z)(I,2),B=E[0],D=E[1],L=(0,c.useState)(!1),R=(0,i.Z)(L,2),T=R[0],V=R[1],q=function(){document.body.style.overflow=T?"auto":"hidden",V(!T)};return(0,c.useEffect)((function(){!function(){O(!0);var e=window.location.pathname.split("/").pop();u.Z.getMovieDetails(e).then((function(e){d((0,s.Z)({},e))})).catch((function(e){return console.log(e),[]})).finally((function(){return O(!1)}))}()}),[]),(0,c.useEffect)((function(){a&&u.Z.getMovieVideo(a.id).then((function(e){y(e.results[0])})).catch((function(e){return console.log(e),[]})).finally((function(){return O(!1)}))}),[a]),(0,m.jsxs)(m.Fragment,{children:[a?(0,m.jsxs)("div",{className:o.Z.details,children:[(0,m.jsx)("h2",{children:a.title}),(0,m.jsxs)("div",{onClick:q,className:o.Z.imgHover,children:[null!==a&&void 0!==a&&a.poster_path?(0,m.jsx)("img",{src:"".concat(t).concat(null===a||void 0===a?void 0:a.poster_path),alt:"Movies poster"}):(0,m.jsx)("img",{src:p,alt:"Was not found"}),(0,m.jsx)("div",{className:o.Z.btnPlay,children:(0,m.jsx)(Z,{})}),T&&(0,m.jsx)(_.Z,{onClose:q,children:w?(0,m.jsx)(S,{videoKey:w.key}):(0,m.jsx)("div",{className:o.Z.noVideo,children:l.f.noVideo})})]}),(0,m.jsxs)("div",{className:o.Z.movieDetails,children:[(0,m.jsxs)("p",{children:[l.f.Release,": ",(0,m.jsx)("span",{children:a.release_date})]}),(0,m.jsxs)("h3",{children:[l.f.Overview,": "]}),(0,m.jsx)("span",{children:a.overview}),(0,m.jsxs)("p",{children:[l.f.Popularity,":",(0,m.jsx)("span",{children:String(Math.round(a.popularity))})]}),(0,m.jsxs)("p",{children:[l.f.Rating,": ",(0,m.jsx)("span",{children:a.vote_average})]}),(0,m.jsxs)("p",{children:[l.f.Count,": ",(0,m.jsx)("span",{children:a.vote_count})]}),(0,m.jsxs)("h3",{children:[l.f.Genres,":"]}),a.genres?a.genres.map((function(e){var t=e.id,r=e.name;return(0,m.jsx)("p",{children:r},t)})):"We don't have any genres for this movie."]})]}):(0,m.jsx)(f.Z,{isLoading:k}),(0,m.jsxs)("button",{className:o.Z.link,onClick:function(){P(!0),D(!1)},children:[l.f.Cast," ",(0,m.jsx)("span",{className:o.Z.linkSign,children:"\u25bc"})]}),(0,m.jsxs)("button",{className:o.Z.link,onClick:function(){D(!0),P(!1)},children:[l.f.Reviews," ",(0,m.jsx)("span",{className:o.Z.linkSign,children:"\u25bc"})]}),M&&(0,m.jsx)(g,{}),B&&(0,m.jsx)(x,{})]})}function N(){var e=(0,a.TH)(),t=(0,a.s0)();return(0,m.jsxs)("div",{className:"container position",children:[(0,m.jsxs)("button",{className:"movieBtn",type:"button",onClick:function(){var r,n;t(null!==(r=null===(n=e.state)||void 0===n?void 0:n.from)&&void 0!==r?r:"/movies")},children:["\u25c4 ",l.f.Back]}),(0,m.jsx)(C,{})]})}},8048:function(e,t){t.Z={details:"Details_details__DjA0o",imgHover:"Details_imgHover__-1FU4",movieDetails:"Details_movieDetails__SdpLD",link:"Details_link__iNLJA",linkSign:"Details_linkSign__+8YEp",btnPlay:"Details_btnPlay__eetqI",movieVideo:"Details_movieVideo__BfCdX",noVideo:"Details_noVideo__ahp-1"}},1272:function(e,t,r){e.exports=r.p+"static/media/default.2e01288c0c1a3f24d743.jpg"}}]);
//# sourceMappingURL=919.72c9c5f2.chunk.js.map