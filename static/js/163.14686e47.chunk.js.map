{"version":3,"file":"static/js/163.14686e47.chunk.js","mappings":"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","sources":["components/TrendingList/TrendingPersonsList.jsx","pages/PersonsPage.jsx"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport { text } from '../../helpers/text';\nimport defaultImg from '../../img/default.jpg';\nimport { IMG_SRC } from 'variables';\n\nconst TrendingPersonsList = ({ trending, time }) => {\n  const location = useLocation();\n  const title = time === 'day' ? text.TitlePersons : text.WeekPersons;\n\n  return (\n    <div>\n      <h2 className=\"pageTitle\">{title}</h2>\n\n      <ul className=\"moviesList\">\n        {trending.map(({ id, name, profile_path, popularity }) => (\n          <Link key={id} to={`/persons/${id}`} state={location}>\n            <li>\n              <img\n                src={profile_path ? `${IMG_SRC}${profile_path}` : defaultImg}\n                alt=\"Movie poster\"\n              />\n              <h4> {name}</h4>\n              <div>{popularity && <span>{Math.round(popularity)}</span>}</div>\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default TrendingPersonsList;\n","import React from 'react';\nimport ScrollButton from '../components/ScrollButton/ScrollButton';\nimport TrendingPersonsList from '../components/TrendingList/TrendingPersonsList';\nimport ToolsMenu from '../components/ToolsMenu/ToolsMenu';\nimport Button from '../components/Button/Button';\nimport Loader from '../components/Loader/Loader';\nimport api from '../api/movies-api';\n\nclass PersonsPage extends React.Component {\n  state = {\n    person: [],\n    isLoading: false,\n    type: 'person',\n    time: 'day',\n    page: 1,\n  };\n\n  componentDidMount() {\n    this.fetchPersons();\n  }\n\n  componentDidUpdate(_, prevState) {\n    const { time, type, person } = this.state;\n    console.log(person);\n\n    if (prevState.time !== time && time) {\n      this.setState({ person: [] });\n      this.fetchPersons();\n    }\n    if (prevState.type !== type && type) {\n      this.setState({ person: [] });\n      this.fetchPersons();\n    }\n  }\n\n  fetchPersons = () => {\n    const { type, time, page } = this.state;\n    this.setState({ isLoading: true });\n\n    api\n      .getMoviesTrending(type, time, page)\n      .then(results => {\n        this.setState(prevState => ({\n          person: [...prevState.person, ...results],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => {\n        console.log(error);\n        return [];\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  changeSelect(e) {\n    this.setState({ time: e.target.dataset.value, page: 1 });\n  }\n\n  render() {\n    const { person, isLoading, time } = this.state;\n    const movieList = person.length > 0 && !isLoading;\n\n    return (\n      <div className=\"container\">\n        <TrendingPersonsList trending={person} time={time} />\n\n        <ToolsMenu changeSelect={this.changeSelect.bind(this)} />\n\n        {movieList && <ScrollButton scrollStepInPx=\"50\" delayInMs=\"16\" />}\n\n        {movieList && <Button onClick={this.fetchPersons} />}\n\n        {isLoading && <Loader isLoading={isLoading} />}\n      </div>\n    );\n  }\n}\n\nexport default PersonsPage;\n"],"names":["_ref","trending","time","location","useLocation","title","text","_jsxs","children","_jsx","className","map","_ref2","id","name","profile_path","popularity","Link","to","concat","state","src","IMG_SRC","defaultImg","alt","Math","round","PersonsPage","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","person","isLoading","type","page","fetchPersons","_this$state","setState","api","then","results","prevState","_toConsumableArray","catch","error","console","log","finally","_createClass","key","value","this","_","_this$state2","e","target","dataset","_this$state3","movieList","TrendingPersonsList","ToolsMenu","changeSelect","bind","ScrollButton","scrollStepInPx","delayInMs","Button","onClick","Loader","React"],"sourceRoot":""}