"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[163],{8214:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var s=n(3433),a=n(5671),i=n(3144),r=n(136),o=n(4104),c=n(2791),l=n(3511),h=n(9439),p=n(7689),u=n(1087),d=n(9961),f=n(1272),g=n(184),m=function(e){var t=e.trending,n=e.time,s=(0,c.useState)("https://image.tmdb.org/t/p/w500"),a=(0,h.Z)(s,1)[0],i=(0,p.TH)(),r="day"===n?d.f.TitlePersons:d.f.WeekPersons;return(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"pageTitle",children:r}),(0,g.jsx)("ul",{className:"moviesList",children:t.map((function(e){var t=e.id,n=e.name,s=e.profile_path,r=e.popularity;return(0,g.jsx)(u.rU,{to:"/persons/".concat(t),state:i,children:(0,g.jsxs)("li",{children:[s?(0,g.jsx)("img",{src:"".concat(a).concat(s),alt:"Movie poster"}):(0,g.jsx)("img",{src:f,alt:"Was not found"}),(0,g.jsxs)("h4",{children:[" ",n]}),(0,g.jsx)("div",{children:r&&(0,g.jsx)("span",{children:Math.round(r)})})]})},t)}))})]})},v=n(5628),x=n(332),j=n(9938),y=n(6083),k=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={person:[],isLoading:!1,type:"person",time:"day",page:1},e.fetchPersons=function(){var t=e.state,n=t.type,a=t.time,i=t.page;e.setState({isLoading:!0}),y.Z.getMoviesTrending(n,a,i).then((function(t){e.setState((function(e){return{person:[].concat((0,s.Z)(e.person),(0,s.Z)(t)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.fetchPersons()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,s=n.time,a=n.type,i=n.person;console.log(i),t.time!==s&&s&&(this.setState({person:[]}),this.fetchPersons()),t.type!==a&&a&&(this.setState({person:[]}),this.fetchPersons())}},{key:"changeSelect",value:function(e){this.setState({time:e.target.dataset.value,page:1})}},{key:"render",value:function(){var e=this.state,t=e.person,n=e.isLoading,s=e.time,a=t.length>0&&!n;return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)(m,{trending:t,time:s}),(0,g.jsx)(v.Z,{changeSelect:this.changeSelect.bind(this)}),a&&(0,g.jsx)(l.Z,{scrollStepInPx:"50",delayInMs:"16"}),a&&(0,g.jsx)(x.Z,{onClick:this.fetchPersons}),n&&(0,g.jsx)(j.Z,{isLoading:n})]})}}]),n}(c.Component),Z=k}}]);
//# sourceMappingURL=163.6414e4f2.chunk.js.map