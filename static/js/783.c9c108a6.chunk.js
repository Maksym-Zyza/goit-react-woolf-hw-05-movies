"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[783],{6083:function(t,e,r){var n,a=r(5861),u=r(7757),c=r.n(u),s=r(5294),o=r(2007),i=r.n(o);s.Z.defaults.baseURL="https://api.themoviedb.org/3/",s.Z.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:null===(n=window.localStorage)||void 0===n?void 0:n.getItem("language"),page:1};var l=function(){var t=(0,a.Z)(c().mark((function t(e,r,n){var a,u,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={url:"trending/".concat(e,"/").concat(r),params:{page:n}},t.next=4,(0,s.Z)(a);case 4:return u=t.sent,o=u.data,t.abrupt("return",o.results);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}();function p(t,e){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(c().mark((function t(e,r){var n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={url:"search/movie",params:{query:e,page:r}},t.next=4,(0,s.Z)(n);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"movie/".concat(e)},t.next=4,(0,s.Z)(r,e);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function h(){return(h=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"movie/".concat(e,"/videos")},t.next=4,(0,s.Z)(r,e);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function d(){return(d=(0,a.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"movie/".concat(e,"/credits")},n=(0,s.Z)(r,e),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=(0,a.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"movie/".concat(e,"/reviews")},n=(0,s.Z)(r,e),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function g(){return(g=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"person/popular",params:{page:e}},t.next=4,(0,s.Z)(r);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function b(){return(b=(0,a.Z)(c().mark((function t(){var e,r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={url:"person/popular"},t.next=4,(0,s.Z)(e);case 4:return r=t.sent,n=r.data,t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function x(){return(x=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"person/".concat(e,"/images")},t.next=4,(0,s.Z)(r,e);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function w(){return(w=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"person/".concat(e)},t.next=4,(0,s.Z)(r,e);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function y(){return(y=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"tv/".concat(e)},t.next=4,(0,s.Z)(r,e);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}p.propTypes={query:i().string.isRequired,page:i().number.isRequired};var Z=function(){var t=(0,a.Z)(c().mark((function t(e,r,n){var a,u,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={url:"discover/movie?primary_release_date.gte=".concat(e,"&primary_release_date.lte=").concat(r),params:{page:n}},t.next=4,(0,s.Z)(a);case 4:return u=t.sent,o=u.data,t.abrupt("return",o.results);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r,n){return t.apply(this,arguments)}}(),_=function(){var t=(0,a.Z)(c().mark((function t(e){var r,n,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={url:"discover/movie?sort_by=popularity.desc",params:{page:e}},t.next=4,(0,s.Z)(r);case 4:return n=t.sent,a=n.data,t.abrupt("return",a.results);case 9:return t.prev=9,t.t0=t.catch(0),alert(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),j={getMoviesTrending:l,getSearchMovies:p,getMovieDetails:function(t){return v.apply(this,arguments)},getMovieVideo:function(t){return h.apply(this,arguments)},getPersons:function(t){return g.apply(this,arguments)},getPersonPopular:function(){return b.apply(this,arguments)},getPersonImages:function(t){return x.apply(this,arguments)},getPersonDetails:function(t){return w.apply(this,arguments)},getTvDetails:function(t){return y.apply(this,arguments)},getMovieCredits:function(t){return d.apply(this,arguments)},getMoviesReviews:function(t){return m.apply(this,arguments)},getInTheatres:Z,getMostPopular:_};e.Z=j},332:function(t,e,r){r.d(e,{Z:function(){return c}});var n="Button_Button__XMdsc",a="Button_btnDiv__dU3P4",u=r(184),c=function(t){var e=t.onClick;return(0,u.jsx)("div",{className:a,children:(0,u.jsx)("button",{className:n,type:"button",onClick:e,children:"Load more"})})}},3511:function(t,e,r){r.d(e,{Z:function(){return g}});var n,a=r(5671),u=r(3144),c=r(136),s=r(4104),o=r(2791),i="ScrollButton_scroll__HXg6x",l="ScrollButton_arrowUp__A8N2O",p=["title","titleId"];function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function v(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},u=Object.keys(t);for(n=0;n<u.length;n++)r=u[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(n=0;n<u.length;n++)r=u[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function h(t,e){var r=t.title,a=t.titleId,u=v(t,p);return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,viewBox:"0 0 16 16",ref:e,"aria-labelledby":a},u),r?o.createElement("title",{id:a},r):null,n||(n=o.createElement("path",{fill:"#fff",d:"M3 12v-2l5-5 5 5v2l-5-5z"})))}var d=o.forwardRef(h),m=(r.p,r(184)),g=function(t){(0,c.Z)(r,t);var e=(0,s.Z)(r);function r(){var t;return(0,a.Z)(this,r),(t=e.call(this)).state={intervalId:0},t}return(0,u.Z)(r,[{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-this.props.scrollStepInPx)}},{key:"scrollToTop",value:function(){var t=setInterval(this.scrollStep.bind(this),this.props.delayInMs);this.setState({intervalId:t})}},{key:"render",value:function(){var t=this;return(0,m.jsx)("button",{title:"Back to top",className:i,onClick:function(){t.scrollToTop()},children:(0,m.jsx)(d,{className:l})})}}]),r}(o.Component)},783:function(t,e,r){r.r(e),r.d(e,{default:function(){return N}});var n,a,u=r(3433),c=r(9439),s=r(2791),o=r(1087),i=r(6083),l=r(9938),p=r(332),f=r(7689),v=r(3649),h=r(184),d=function(t){var e=t.movies,r=(0,f.TH)();return(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("ul",{className:"moviesList",children:e.map((function(t){var e=t.id,n=t.poster_path,a=t.title,u=t.vote_average;return(0,h.jsx)(o.rU,{to:"/movies/".concat(e),state:r,children:(0,h.jsxs)("li",{children:[(0,h.jsx)("img",{src:"".concat(v.v).concat(n),alt:a}),(0,h.jsxs)("h4",{children:[" ",a]}),(0,h.jsx)("div",{children:(0,h.jsx)("span",{children:u>0?parseFloat(Math.round(100*u)/100).toFixed(1):0})})]})},e)}))})})},m=r(3511),g=r(9961),b=function(){return(0,h.jsx)("div",{children:(0,h.jsx)("h2",{className:"pageTitle",children:g.f.Nothing})})},x=["title","titleId"];function w(){return w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w.apply(this,arguments)}function y(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},u=Object.keys(t);for(n=0;n<u.length;n++)r=u[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(n=0;n<u.length;n++)r=u[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Z(t,e){var r=t.title,u=t.titleId,c=y(t,x);return s.createElement("svg",w({width:11,height:12,viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":u},c),r?s.createElement("title",{id:u},r):null,n||(n=s.createElement("path",{d:"M7.5 4.12939C7.5 6.09391 5.9275 7.67645 4 7.67645C2.0725 7.67645 0.5 6.09391 0.5 4.12939C0.5 2.16488 2.0725 0.582336 4 0.582336C5.9275 0.582336 7.5 2.16488 7.5 4.12939Z",stroke:"#01b4e4"})),a||(a=s.createElement("line",{y1:-.5,x2:5.69023,y2:-.5,transform:"matrix(0.70296 0.71123 -0.70296 0.71123 6 7.16467)",stroke:"#01b4e4"})))}var _=s.forwardRef(Z),j=(r.p,"Search_SearchBar__3f2oO"),k="Search_SearchForm__70LH0",S="Search_SearchForm_button__YE9g8",O="Search_searchLogo__ks8Ts",I="Search_SearchForm_input__HKU2z",M=function(t){var e,r=t.formSubmitQuery,n=(0,o.lr)(),a=(0,c.Z)(n,2),u=a[0],i=a[1],l=(0,s.useState)(null!==(e=u.get("search"))&&void 0!==e?e:""),p=(0,c.Z)(l,2),f=p[0],v=p[1];return(0,s.useEffect)((function(){var t=u.get("search");t&&v(t)}),[u]),(0,h.jsx)("header",{className:j,children:(0,h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=u.get("search");f!==e&&f&&(r(f),i({search:f}))},className:k,children:[(0,h.jsx)("button",{type:"submit",className:S,children:(0,h.jsx)(_,{className:O})}),(0,h.jsx)("input",{className:I,type:"text",autoComplete:"off",autoFocus:!0,placeholder:g.f.SearchMovies,value:f,onChange:function(t){v(t.target.value)}})]})})},N=function(){var t,e,r=(0,o.lr)(),n=(0,c.Z)(r,2),a=n[0],f=n[1],v=(0,s.useState)([]),g=(0,c.Z)(v,2),x=g[0],w=g[1],y=(0,s.useState)(Number(null!==(t=a.get("page"))&&void 0!==t?t:1)),Z=(0,c.Z)(y,2),_=Z[0],j=Z[1],k=(0,s.useState)(!1),S=(0,c.Z)(k,2),O=S[0],I=S[1],N=(0,s.useState)(null),P=(0,c.Z)(N,2),C=P[0],E=P[1],T=(0,s.useState)(null!==(e=a.get("search"))&&void 0!==e?e:""),B=(0,c.Z)(T,2),F=B[0],L=B[1];(0,s.useEffect)((function(){F&&(I(!0),i.Z.getSearchMovies(F,_).then((function(t){w((function(e){return[].concat((0,u.Z)(e),(0,u.Z)(t.data.results))}))})).catch((function(t){return console.log(t),[]})).finally((function(){return I(!1)})))}),[F,_]);return(0,h.jsxs)("div",{children:[(0,h.jsx)(M,{formSubmitQuery:function(t){L(t),E(null),w([]),j(1),f({search:t,page:1})}}),(0,h.jsx)(d,{movies:x}),O&&(0,h.jsx)(l.Z,{isLoading:O}),x.length>0&&(0,h.jsx)(p.Z,{onClick:function(){j((function(t){return t+1})),f({search:F,page:_+1})}}),x.length>0&&(0,h.jsx)(m.Z,{scrollStepInPx:"50",delayInMs:"16"}),C&&(0,h.jsx)("h1",{children:C}),0===x.length&&(0,h.jsx)(b,{})]})}},3649:function(t,e,r){r.d(e,{v:function(){return n}});var n="https://image.tmdb.org/t/p/w500"}}]);
//# sourceMappingURL=783.c9c108a6.chunk.js.map