"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[163],{8214:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var s=n(3433),i=n(5671),a=n(3144),r=n(136),o=n(4104),c=n(2791),l=n(3511),h=n(7689),p=n(1087),u=n(9961),d=n(1272),f=n(3649),g=n(184),m=function(e){var t=e.trending,n=e.time,s=(0,h.TH)(),i="day"===n?u.f.TitlePersons:u.f.WeekPersons;return(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"pageTitle",children:i}),(0,g.jsx)("ul",{className:"moviesList",children:t.map((function(e){var t=e.id,n=e.name,i=e.profile_path,a=e.popularity;return(0,g.jsx)(p.rU,{to:"/persons/".concat(t),state:s,children:(0,g.jsxs)("li",{children:[(0,g.jsx)("img",{src:i?"".concat(f.v).concat(i):d,alt:"Movie poster"}),(0,g.jsxs)("h4",{children:[" ",n]}),(0,g.jsx)("div",{children:a&&(0,g.jsx)("span",{children:Math.round(a)})})]})},t)}))})]})},v=n(5628),x=n(332),j=n(9938),y=n(6083),k=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={person:[],isLoading:!1,type:"person",time:"day",page:1},e.fetchPersons=function(){var t=e.state,n=t.type,i=t.time,a=t.page;e.setState({isLoading:!0}),y.Z.getMoviesTrending(n,i,a).then((function(t){e.setState((function(e){return{person:[].concat((0,s.Z)(e.person),(0,s.Z)(t)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.fetchPersons()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,s=n.time,i=n.type,a=n.person;console.log(a),t.time!==s&&s&&(this.setState({person:[]}),this.fetchPersons()),t.type!==i&&i&&(this.setState({person:[]}),this.fetchPersons())}},{key:"changeSelect",value:function(e){this.setState({time:e.target.dataset.value,page:1})}},{key:"render",value:function(){var e=this.state,t=e.person,n=e.isLoading,s=e.time,i=t.length>0&&!n;return(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)(m,{trending:t,time:s}),(0,g.jsx)(v.Z,{changeSelect:this.changeSelect.bind(this)}),i&&(0,g.jsx)(l.Z,{scrollStepInPx:"50",delayInMs:"16"}),i&&(0,g.jsx)(x.Z,{onClick:this.fetchPersons}),n&&(0,g.jsx)(j.Z,{isLoading:n})]})}}]),n}(c.Component),Z=k}}]);
//# sourceMappingURL=163.14686e47.chunk.js.map